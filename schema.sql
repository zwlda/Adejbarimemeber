CREATE TABLE IF NOT EXISTS bots (id TEXT PRIMARY KEY, kind TEXT NOT NULL, username TEXT, token_cipher TEXT NOT NULL, webhook_secret TEXT NOT NULL, parent_id TEXT, owner_tg_id INTEGER NOT NULL, is_active INTEGER NOT NULL DEFAULT 1, created_at INTEGER NOT NULL);
CREATE TABLE IF NOT EXISTS admins (tg_id INTEGER PRIMARY KEY, role TEXT NOT NULL, added_by INTEGER, created_at INTEGER NOT NULL);
CREATE TABLE IF NOT EXISTS forced_channels (id INTEGER PRIMARY KEY AUTOINCREMENT, main_bot_id TEXT NOT NULL, chat_id INTEGER NOT NULL, username TEXT, title TEXT, created_at INTEGER NOT NULL);
CREATE TABLE IF NOT EXISTS files (id TEXT PRIMARY KEY, main_bot_id TEXT NOT NULL, uploader_tg_id INTEGER NOT NULL, file_type TEXT NOT NULL, file_id TEXT NOT NULL, caption TEXT, size INTEGER, mime_type TEXT, code TEXT NOT NULL UNIQUE, delivered_count INTEGER NOT NULL DEFAULT 0, click_count INTEGER NOT NULL DEFAULT 0, created_at INTEGER NOT NULL);
CREATE TABLE IF NOT EXISTS downloads (id INTEGER PRIMARY KEY AUTOINCREMENT, file_id_ref TEXT NOT NULL, user_tg_id INTEGER NOT NULL, delivered INTEGER NOT NULL, created_at INTEGER NOT NULL);
